"use strict";_SL.nmspc("searchEventDuplication").list=function(){var a={gridId:"#gridSearchEventDuplication",formId:"#searchEventDuplication",urlList:gCONTEXT_PATH+"event/search_event_duplication_list.json",urlForm:gCONTEXT_PATH+"event/search_event_duplication_form.html"},b={grid:$(a.gridId),form:$(a.formId)},c=function(){e(b.grid),d()},d=function(){var c=b.grid.parent().siblings(".grid-bottom").find(".btn-add");b.form.find(".form-submit").on("click",function(){f()}),c.off().on("click",function(){g(a.urlForm)})},e=function(c){var d={datatype:"json",datafields:[{name:"seq",type:"string"},{name:"duplication_name",type:"string"},{name:"cvt_duplication_query",type:"string"},{name:"start_time",type:"string"},{name:"end_time",type:"string"}],root:"rows",beforeprocessing:function(a){null!=a&&(d.totalrecords=a.totalRows)},cache:!1,url:a.urlList},e=new $.jqx.dataAdapter(d,{beforeLoadComplete:function(a){for(var b in a)a[b].start_time=_SL.formatDate(a[b].start_time,"yyyyMMddHHmm","yyyy-MM-dd HH:mm"),a[b].end_time=_SL.formatDate(a[b].end_time,"yyyyMMddHHmm","yyyy-MM-dd HH:mm");return a},formatData:function(a){var c,d={},e=b.form.serializeArray();for(c in e)d[e[c].name]=e[c].value;return $.extend(a,d),a},loadError:function(a,b,c){alert(c)}});c.jqxGrid({source:e,sortable:!0,width:"100%",virtualmode:!0,enablehover:!1,rendergridrows:function(a){return a.data},columns:[{text:"No",columntype:"number",width:40,cellsalign:"center",cellsrenderer:function(a,b,c,d){return $(d).text(c+1)[0].outerHTML}},{text:"중복명",datafield:"duplication_name",cellsrenderer:function(a,b,c,d,e,f){return $(d).html('<button type="button" class="btn-link">'+c+"</button>")[0].outerHTML}},{text:"기준필드",datafield:"cvt_duplication_query"},{text:"시작일시",cellsalign:"center",datafield:"start_time",width:"17%"},{text:"종료일시",cellsalign:"center",datafield:"end_time",width:"17%"}]}),c.on("cellclick",function(b){if("duplication_name"===b.args.datafield){var c=b.args.row.bounddata.seq;g(a.urlForm+"?seq="+c+"&chk=update")}})},f=function(){b.grid.jqxGrid("updatebounddata")},g=function(a){new ModalPopup(a,{width:800,height:470,onClose:function(){f()}})};return{init:c}}(),$(function(){slapp.searchEventDuplication.list.init()});