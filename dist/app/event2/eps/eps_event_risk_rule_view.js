"use strict";_SL.nmspc("epsRiskRule").form=function(){var a={urlList:gCONTEXT_PATH+"event2/eps_event_risk_rule.json",formId:"#searchEpsEventRiskRuleList",gridId:"#gridEpsEventRiskRuleView",updateLink:gCONTEXT_PATH+"event2/eps_event_risk_rule_update.do"},b={form:$(a.formId),grid:$(a.gridId),sDay:$(a.formId+" [name=startDay]"),sHour:$(a.formId+" [name=startHour]"),sMin:$(a.formId+" [name=startMin]"),eDay:$(a.formId+" [name=endDay]"),eHour:$(a.formId+" [name=endHour]"),eMin:$(a.formId+" [name=endMin]")},c=function(){d(),e()},d=function(){var c=_SL.serializeMap(b.form);$("body").requestData(a.urlList,c,{callback:function(a){var c=b.grid.find("tbody").empty(),d=$("<tr>").append("<td>기본 가중치<br>(이벤트당)</td>"),e=a.list;for(var f in e)e[f].base_weight>0?d.append("<td><input type='text' class='form-input align-center' style='width:70px;' name='base_weight' value='"+e[f].base_weight+"' size='3' maxlength='5' data-slValid='기본 가중치,required,number,min=1'><input type='hidden' name='event_cate_cd' value='"+e[f].event_cate_cd+"' size='3' maxlength='5'></td>"):d.append("<td> - </td>");d.appendTo(c),d=$("<tr>"),d.append("<td>이벤트 최대 개수</td>");for(var f in e)e[f].base_weight>0?d.append("<td><input type='text' class='form-input align-center' style='width:70px;' name='max_event_count' value='"+e[f].max_event_count+"' size='3' maxlength='5' data-slValid='이벤트 최대 개수,required,number,min=1'></td>"):d.append("<td> - </td>");d.appendTo(c),d=$("<tr>"),d.append("<td>연속 가중치</td>");for(var f in e)e[f].base_weight>0?d.append("<td><input type='text' class='form-input align-center' style='width:70px;' name='conn_weight' value='"+e[f].conn_weight+"' size='3' maxlength='5' data-slValid='연속 가중치,required,number,min=1'></td>"):d.append("<td> - </td>");d.appendTo(c)}})},e=function(){b.form.find(".btn-save").click(function(){return!!_SL.validate(b.form)&&void f()})},f=function(){var c=_SL.serializeMap(b.form),d=function(a,c,d){"SUC_COM_0002"==c?_alert("저장되었습니다.",{onAgree:function(){b.form.find("[data-layer-close=true]").click()}}):_alert(d)};$("body").requestData(a.updateLink,c,{displayLoader:!0,callback:d})};return{init:c}}(),$(function(){slapp.epsRiskRule.form.init()});