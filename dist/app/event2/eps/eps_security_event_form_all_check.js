"use strict";_SL.nmspc("epsSecurityEvent").eventProcessForm=function(){var a={formId:"#formSecurityEventAllCheckForm",urlCurPageProcess:gCONTEXT_PATH+"event2/eps_security_event_form_curPage_check.do",urlAllPageProcess:gCONTEXT_PATH+"event2/eps_security_event_form_allPage_check.do",urlProc:gCONTEXT_PATH+"event2/eps_security_event_proc.json",urlCheckAll:gCONTEXT_PATH+"/event2/eps_event_handling_check_All.do",urlUpdateAll:gCONTEXT_PATH+"/event2/eps_event_handling_update_all.do"},b={form:$(a.formId)},c=function(){d()},d=function(){b.form.find(".btn-processAllPage").on("click",g),b.form.find(".btn-processCurPage").on("click",f)},e=function(a){a&&b.form.find("[data-layer-close=true]").click()},f=function(){var b=(1==$(this).data("after-close"),$.trim($("#proc_cont").val()));if(""==b)return _alert("처리내용을 입력하세요."),void $("#proc_cont").focus();for(var c={proc_cont:b,proc_list:[]},d=0;d<slapp.epsSecurityEvent.list.getAllPageIpParam().length;++d){var f=slapp.epsSecurityEvent.list.getAllPageIpParam(),g=slapp.epsSecurityEvent.list.getAllPageEventTimeParam(),h=slapp.epsSecurityEvent.list.getAllPageRulesetIdParam();c.proc_list.push({ruleset_id:h[d],src_ip:f[d],event_time:g[d],handling_type_cd:"1"})}$("body").requestData(a.urlProc,c,{callback:function(a,b,c){"SUC_COM_0002"==b?_alert("처리 되었습니다.",{onAgree:function(){e(!0)}}):_alert("처리중 에러가 발생했습니다.\n다시 시도해 보세요.")}})},g=function(){var b=[],c="",d=$.trim($("#proc_cont").val());if(""==d)return _alert("처리내용을 입력하세요."),void $("#proc_cont").focus();for(var e={proc_cont:d,proc_list:[]},f=0;f<slapp.epsSecurityEvent.list.getAllPageIpParam().length;++f){slapp.epsSecurityEvent.list.getAllPageIpParam(),slapp.epsSecurityEvent.list.getAllPageEventTimeParam(),slapp.epsSecurityEvent.list.getAllPageRulesetIdParam()}$("body").requestData(a.urlCheckAll,e,{callback:function(a,d,e){if("SUC_COM_0002"!=d)_alert(e);else if("handlingTypeCd_incorrect"==a.rsMap.RESULT_MSG){b.push(data.handling_type_cd);for(var f=0;f<b.length;f++)c=eventStatusJson[b[f]],null!=b[f]&&_confirm(c+"인 상태가 있습니다. 상태를 변경하시겠습니까?",{onAgree:function(){}})}else{b.push(data.handling_type_cd);for(var f=0;f<b.length;f++)c=eventStatusJson[b[f]],null!=b[f]&&_confirm(c+"인 상태가 있습니다. 상태를 변경하시겠습니까?",{onAgree:function(){}})}}})};return{init:c}}(),$(function(){slapp.epsSecurityEvent.eventProcessForm.init()});