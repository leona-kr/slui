"use strict";_SL.nmspc("userInfo").userInfoForm=function(){var a={formId:"#formUserInfo",urlSelect:gCONTEXT_PATH+"main/main_simpleUserInfo.json",urlSave:gCONTEXT_PATH+"main/comuser_login_menu_id_update.do"},b={form:$(a.formId),userId:$(a.formId+" [name=p_user_id]")},c={password:function(a){if(""!=$(a).val()){var c="undefined"==typeof b.form.find("[name=user_id]").val()?b.form.find("[name='p_user_id']").val():b.form.find("[name=user_id]").val(),d=$(a).val(),e=0;/[가-힣]/.test(d)?(this.message="비밀번호는 한글을 입력할 수 없습니다.",this.bValid=!1):d.length<9||d.length>15?(this.message="비밀번호는 9자 ~ 15자 이내로 입력하세요.",this.bValid=!1):d==c?(this.message="아이디와 비밀번호는 같을 수 없습니다.",this.bValid=!1):(/[A-Z]/.test(d)&&e++,/[a-z]/.test(d)&&e++,/[\d]/.test(d)&&e++,/[^A-Za-z0-9]/.test(d)&&e++,e<3&&(this.message="영문 대문자/영문 소문자/숫자/특수문자 중 3가지 이상의 문자 조합으로 입력하세요.",this.bValid=!1))}}},d=function(){e(),f(),$.extend(!0,_SL.validate.Validator,c)},e=function(){b.form.find(".btn-save").on("click",g)},f=function(){var c=b.userId.val(),d={user_id:c},e=function(c){c.passwd="",_SL.setDataToForm(c,b.form,{p_user_id:{converter:function(a,c){b.form.find("[name=p_user_id]").val(a),b.form.find("[name=user_id]").val(a)}},auth_ip:{converter:function(a,c){if(""!=a){var d="1."+(a.indexOf(a.split(",")[0])==-1?a:a.split(",")[0])+"    2."+a.split(",")[1];b.form.find("[name=auth_ip]").val(d)}}}}),slui.attach.setTransformSelect(a.formId)};$("body").requestData(a.urlSelect,d,{callback:e})},g=function(){if(_SL.validate(b.form)){var c=b.form.find("[name=passwd]").val(),d=b.form.find("[name=re_passwd]").val();if(c!=d)return""!=d&&""==c?(_alert("비밀번호를 입력하세요."),void b.form.find("[name=passwd]").focus()):""!=c&&""==d?(_alert("비밀번호를 확인하여 주세요."),void b.form.find("[name=re_passwd]").focus()):(_alert("비밀번호가 일치하지 않습니다."),void b.form.find("[name=re_passwd]").val("").focus());var e=(1==$(this).data("after-close"),{passwd:b.form.find("[name=passwd]").val(),login_menu_id:b.form.find("[name=login_menu_id] :selected").val(),login_menu:b.form.find("[name=login_menu_id] :selected").data("value"),alarm_mode:b.form.find("[name=alarm_mode]:checked").val()});$("body").requestData(a.urlSave,e,{callback:function(a,c,d){gDISPLAY_ALARM=b.form.find("[name=alarm_mode]:checked").val(),h(!0)}})}},h=function(a){a&&b.form.find("[data-layer-close=true]").click()};return{init:d}}(),$(function(){slapp.userInfo.userInfoForm.init()});