"use strict";_SL.nmspc("board").view=function(){var a="",b=function(){c(),e.init(),f.init(),self.focus(),$("#board_name").keypress(function(a){"13"==a.which&&a.preventDefault()})},c=function(){$(".defined-list > li").click(function(){$(".defined-list > li").removeClass("selected"),$(this).addClass("selected");var a=$(this).attr("aria-value").split(",");d(a[0],a[1]),slapp.board.view.selectedBoardIndex=a[0]})},d=function(a,b){$("#board_index").val(a),$("#sapnText").text(b),$(".defined-list span").removeClass("selected");var c,d=$("#board_index").val();$(".defined-list li").each(function(){if(c=$(this).attr("aria-value").split(","),c[0]==d)return $(this).find("span").addClass("selected"),!1}),window.open("/board/board_view.html?bbs_typ_cd="+a,"mylogs_frame"),$(window).scrollTop(0)},e=function(){var a=function(){$(".defined-list > li:first-child").addClass("selected");var a=$(".defined-list > li:first-child").attr("aria-value");if(null!=a){var b="undefined"!=typeof a[0];b&&($("#board_index").val(a[0]),window.open("/board/board_view.html?bbs_typ_cd="+a[0],"mylogs_frame"),$(window).scrollTop(0))}};return{init:a}}(),f=function(){var a=$("#board_dlg"),b=function(){a.jqxWindow({height:170,width:440,autoOpen:!1,resizable:!1,isModal:!0,modalOpacity:.5,cancelButton:$("#board_dlg .btn-cancel"),initContent:function(){slui.attach.setTransformSelect("#board_dlg"),$("#board_dlg .jqx-window-content").css("overflow","visible")}}),$("#board_dlg .btn-save").click(h),c(),$(".btn-add").click(d),$(".btn-delete").click(e),$(".btn-modify").click(f)},c=function(){var a=$("body").outerHeight(!0)-$(".section-title").outerHeight(!0);$(".ifrm").css("height",a+"px")},d=function(){g("추가","add","",1)},e=function(){var a=$(".selected span").text();return""==a?void _alert("삭제할 수 있는 게시판이 없습니다."):void _confirm(a+" 를(을) 삭제 하시면<br>관련 내용들이 모두 삭제 됩니다.<br>삭제 하시겠습니까?",{onAgree:function(){$("#dlg_mode").val("delete"),h(),onClose(afterClose)}})},f=function(){var a=$(".selected").attr("aria-value");if(null==a)return void _alert("수정할 수 있는 게시판이 없습니다.");var b=a.split(",")[1];$(".selected").text();g("수정","update",$(".selected span").text(),$.trim(b))},g=function(b,c,d,e){$("#board_dlg_name").text(b),$("#dlg_mode").val(c),$("#board_name").val(d),$("#board_type").val(e),a.jqxWindow("open")},h=function(){var a="",b={},c=$("#dlg_mode").val(),d=$("#board_name").val(),e=$("#board_index").val(),f=$("#board_type option:selected").val();if(""==d&&"delete"!=c)return _alert("제목을 입력하세요.",{onAgree:function(){$("#board_name").focus()}}),!1;switch(c){case"add":a="/board/board_menu_add.json",b.bbs_nm=d,b.bbs_type=f;break;case"update":a="/board/board_menu_update.json",b.bbs_nm=d,b.bbs_id=e,b.bbs_type=f;break;case"delete":a="/board/board_menu_delete.json",b.bbs_id=e}$("body").requestData(a,b,{callback:function(a,b,c){"SUC_COM_0000"==b?location.reload():_alert("저장 처리중 에러가 발생했습니다.<br>다시 실행하세요.")}})};return{init:b}}();return{init:b,selectedBoardIndex:a}}(),$(function(){slapp.board.view.init()});