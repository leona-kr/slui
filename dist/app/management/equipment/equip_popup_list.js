"use strict";_SL.nmspc("parser").eqpPopupList=function(){var a={urlList:gCONTEXT_PATH+"management/equip_popup_list.json",formId:"#searchEquipPopupList",gridId:"#gridEquipPopupList",gridBottomId:".grid-bottom"},b={form:$(a.formId),grid:$(a.gridId),gridBottom:$(a.gridBottomId)},c={data:{}},d=function(){return c.data},e=function(){b.grid.parent().siblings(".grid-bottom").find(".btn-add");b.form.find("[name=s_eqp_type_cd]").chosen({search_contains:!0}),f(b.grid),b.form.find(".form-submit").off().on("click",function(){_SL.validate(b.form)&&g()})},f=function(d){var e={datatype:"json",datafields:[{name:"eqp_type_cd",type:"string"},{name:"eqp_type_nm",type:"string"},{name:"eqp_id",type:"string"},{name:"eqp_nm",type:"string"},{name:"eqp_ip",type:"string"},{name:"group_cd",type:"string"},{name:"group_nm",type:"string"},{name:"agent_ip",type:"string"},{name:"collect_yn",type:"string"},{name:"psr_nm",type:"string"},{name:"log_type_psr_info",type:"string"}],root:"rows",beforeprocessing:function(a){null!=a&&(e.totalrecords=a.totalRows)},cache:!1,url:a.urlList},f=new $.jqx.dataAdapter(e,{formatData:function(b){var c,d={},e=$(a.formId).serializeArray();for(c in e)d[e[c].name]=e[c].value;return $.extend(b,d),b},loadError:function(a,b,c){alert(c)}});d.jqxGrid({source:f,sortable:!0,width:"100%",virtualmode:!0,rendergridrows:function(a){return a.data},columns:[{text:"No",columntype:"number",width:40,cellsalign:"center",cellsrenderer:function(a,b,c,d){return $(d).text(c+1)[0].outerHTML}},{text:"장비명",datafield:"eqp_nm",width:200,cellsrenderer:function(a,b,c,d,e,f){return $(d).html('<button type="button" class="btn-link">'+c+"</button>")[0].outerHTML}},{text:"장비종류",datafield:"eqp_type_nm",width:200,cellsalign:"center"},{text:"장비 IP",datafield:"eqp_ip",width:130,cellsalign:"center"},{text:"Agent IP",datafield:"agent_ip",width:130,cellsalign:"center"},{text:"파서명",datafield:"psr_nm",cellsalign:"center",width:200},{text:"로그파서",datafield:"log_type_psr_info",width:120,cellsalign:"center"},{text:"수집상태",datafield:"collect_yn",width:120,cellsalign:"center",cellsrenderer:function(a,b,c,d,e,f){return"Y"==c?$(d).html('<span class="label-success">수집</span>')[0].outerHTML:"N"==c?$(d).html('<span class="label-danger">미수집</span>')[0].outerHTML:void 0}}]}),d.on("cellclick",function(a){"eqp_nm"===a.args.datafield&&(c.data=a.args.row.bounddata,b.gridBottom.find("[data-layer-close=true]").click())})},g=function(){b.grid.jqxGrid("updatebounddata")};return{init:e,getParam:d}}(),$(function(){slapp.parser.eqpPopupList.init()});