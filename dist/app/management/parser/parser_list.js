"use strict";_SL.nmspc("parser").list=function(){var a={urlList:gCONTEXT_PATH+"management/parser_list.json",urlForm:gCONTEXT_PATH+"management/parser_form.html",urlDefailForm:gCONTEXT_PATH+"management/log_psr_form.html",formId:"#searchParserList",gridId:"#gridParserList"},b={form:$(a.formId),grid:$(a.gridId)},c=function(){var c=b.grid.parent().siblings(".grid-bottom").find(".btn-add");d(b.grid),b.form.find(".form-submit").off().on("click",function(){_SL.validate(b.form)&&e()}),c.off().on("click",function(){f(a.urlForm,450,230)})},d=function(b){var c={datatype:"json",datafields:[{name:"psr_id",type:"string"},{name:"psr_nm",type:"string"},{name:"description",type:"string"},{name:"version",type:"string"},{name:"log_type_psr_info",type:"string"}],root:"rows",beforeprocessing:function(a){null!=a&&(c.totalrecords=a.totalRows)},cache:!1,url:a.urlList},d=new $.jqx.dataAdapter(c,{formatData:function(b){var c,d={},e=$(a.formId).serializeArray();for(c in e)d[e[c].name]=e[c].value;return $.extend(b,d),b},loadError:function(a,b,c){alert(c)}});b.jqxGrid({source:d,sortable:!0,width:"100%",virtualmode:!0,rendergridrows:function(a){return a.data},columns:[{text:"No",columntype:"number",width:35,cellsalign:"center",cellsrenderer:function(a,b,c,d){return $(d).text(c+1)[0].outerHTML}},{text:"파서명",datafield:"psr_nm",width:"30%",cellsrenderer:function(a,b,c,d,e,f){return $(d).html('<button type="button" class="btn-link">'+c+"</button>")[0].outerHTML}},{text:"Version",datafield:"version",cellsalign:"center"},{text:"설명",datafield:"description"},{text:"로그 파서",datafield:"log_type_psr_info",cellsalign:"center",cellsrenderer:function(a,b,c,d,e,f){return $(d).html('<button type="button" class="btn-link">'+c+"</button>")[0].outerHTML}}]}),b.on("cellclick",function(b){if("psr_nm"===b.args.datafield){var c=b.args.row.bounddata.psr_id;f(a.urlForm+"?psr_id="+c,450,230)}if("log_type_psr_info"===b.args.datafield){var c=b.args.row.bounddata.psr_id;f(a.urlDefailForm+"?psr_id="+c,1200,700,!0)}})},e=function(){b.grid.jqxGrid("updatebounddata")},f=function(a,b,c,d){if(1==d)var f=!0;else var f=!1;new ModalPopup(a,{width:b,height:c,setScroll:f,onDestroy:function(){$.contextMenu("destroy"),e()}})};return{init:c}}(),$(function(){slapp.parser.list.init()});