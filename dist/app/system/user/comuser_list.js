"use strict";_SL.nmspc("user").list=function(){var a={urlList:gCONTEXT_PATH+"system/comuser_list.json",urlForm:gCONTEXT_PATH+"system/comuser_form.html",formId:"#searchUserList",gridId:"#gridUserList"},b={form:$(a.formId),grid:$(a.gridId)},c=function(){var c=b.grid.parent().siblings(".grid-bottom").find(".btn-add");d(b.grid),b.form.find(".form-submit").off().on("click",function(){e()}),c.off().on("click",function(){f(a.urlForm)})},d=function(b){var c={datatype:"json",datafields:[{name:"user_id",type:"string"},{name:"user_nm",type:"string"},{name:"mobile_no",type:"string"},{name:"mail_addr",type:"string"},{name:"role_nm",type:"string"},{name:"group_nm",type:"string"},{name:"cust_nm",type:"string"},{name:"reg_dt",type:"string"}],root:"rows",beforeprocessing:function(a){null!=a&&(c.totalrecords=a.totalRows)},cache:!1,url:a.urlList},d=new $.jqx.dataAdapter(c,{beforeLoadComplete:function(a){for(var b in a)a[b].reg_dt=_SL.formatDate(a[b].reg_dt,"yyyyMMddHHmmss","yyyy-MM-dd HH:mm:ss");return a},formatData:function(b){var c,d={},e=$(a.formId).serializeArray();for(c in e)d[e[c].name]=e[c].value;return $.extend(b,d),b},loadError:function(a,b,c){alert(c)}});b.jqxGrid({source:d,sortable:!1,width:"100%",virtualmode:!0,rendergridrows:function(a){return a.data},columns:[{text:"No",columntype:"number",width:40,cellsalign:"center",cellsrenderer:function(a,b,c,d){return $(d).text(c+1)[0].outerHTML}},{text:"아이디",datafield:"user_id"},{text:"이름",datafield:"user_nm",cellsalign:"center",width:"10%",cellsrenderer:function(a,b,c,d,e,f){return $(d).html('<button type="button" class="btn-link">'+c+"</button>")[0].outerHTML}},{text:"권한",datafield:"role_nm",width:"12%"},{text:"기관",datafield:"group_nm",width:"12%"},{text:"담당기관",datafield:"cust_nm",width:"12%"},{text:"휴대폰번호",datafield:"mobile_no",cellsalign:"center",width:"12%"},{text:"이메일",datafield:"mail_addr",width:"12%"},{text:"등록일",datafield:"reg_dt",cellsalign:"center",width:"15%"}]}),b.on("cellclick",function(b){if("user_nm"===b.args.datafield){var c=b.args.row.bounddata.user_id;f(a.urlForm+"?user_id="+c)}})},e=function(){b.grid.jqxGrid("updatebounddata")},f=function(a){new ModalPopup(a,{height:650,onClose:function(){e()}})};return{init:c}}(),$(function(){slapp.user.list.init(),$("#btnSettingConnecting").togglePage(gCONTEXT_PATH+"system/login_user_list.html"),$("#btnSettingAuth").click(function(){new ModalPopup(gCONTEXT_PATH+"system/auth_form.html",{height:520})})});