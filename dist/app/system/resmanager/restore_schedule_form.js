"use strict";_SL.nmspc("resmanager").scheduleForm=function(){var a={formId:"#formScheduleForm",add:{action:gCONTEXT_PATH+"system/restore_schedule_insert.do",message:"등록 하시겠습니까?"}},b={form:$(a.formId),requestId:$(a.formId+" [name=request_id]")},c=({mode:a.add},function(){d()}),d=function(){b.form.find(".btn-save").on("click",e)},e=function(){var c=b.form.find("[name=restoreStartDay]").val()+b.form.find("[name=restoreStartHour]").val(),d=b.form.find("[name=restoreEndDay]").val()+b.form.find("[name=restoreEndHour]").val(),e=_SL.formatDate.diff(c+"00",d+"00");if(e<0)return void _alert("복원일시 종료시간이 시작시간보다 커야 합니다.");if(e=_SL.formatDate.diff(d+"00",_SL.formatDate("yyyyMMddHH")+"00"),e<0)return void _alert("복원일시 종료시간은 현재시간과 같거나 작아야 합니다.");if(_SL.validate()){var g=1==$(this).data("after-close");$("body").requestData(a.add.action,_SL.serializeMap(b.form),{displayLoader:!0,callback:function(a,b,c){var d=a.RESULT_CODE;switch(d){case"SUCCESS":_alert("복원 요청하였습니다.",{onAgree:function(){f(g)}});break;case"EXIST":_alert("시작, 종료시간 구간에 이미 등록된 복원일시가 있습니다.");break;case"ERROR":_alert("복원 요청중 오류가 발생하였습니다.<br/>다시 시도하세요.");break;case"RUNNING":_alert("데이터 복원이 실행 중입니다.");break;default:_alert("복원요청에 실패했습니다.<br/>다시 시도하세요.")}}})}},f=function(a){a&&b.form.find("[data-layer-close=true]").click()};return{init:c}}(),$(function(){slapp.resmanager.scheduleForm.init()});