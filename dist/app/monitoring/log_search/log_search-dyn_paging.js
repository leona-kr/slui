"use strict";_SL.nmspc("logsearch").dynPaging=function(){var a,b,c,d,e,f,g=gCONTEXT_PATH+"monitoring/",h={DOM:{logTable:"#logTable",pageRow:"#pageRow",currPage:"#currPage",divPaging:"#divPaging",divTotal:"#divTotal",classBasic:"btn-basic",classMore:"btn-more",classPcap:"btn-pcap",classFieldName:"field-name",classFieldValue:"field-value"},URL:{list:g+"log_search_list.json",groupStats:g+"group_stats.html",timelineStats:g+"time_stats.html",fieldView:g+"log_field_view.html",decrypt:g+"string_decrypt.json",pcapDown:g+"pcap_file_download.do",auditLogSave:g+"audit_log_save.do"},timeUnit:{min:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6},schTimeUnit:{hour:60},pageRowUnit:[10,15,20,30,50,100],fixedSizeField:{eqp_dt:130,src_ip:110,dstn_ip:110,eqp_ip:110,connect_ip:110,agent_ip:110,dstn_port:80,prtc:70},alignLeftFieldRegExp:/(original_log|extend_field)/,flagFields:["src_country_name","src_country_code","dstn_country_name","dstn_country_code"],cookies:{pageRow:"pageRow"}},i={query:$(h.DOM.query),logTable:$(h.DOM.logTable),pageRow:$(h.DOM.pageRow),currPage:$(h.DOM.currPage),divPaging:$(h.DOM.divPaging),divTotal:$(h.DOM.divTotal)},j={field_idx_at_TH:1,viewFields:["eqp_dt","src_ip","dstn_ip","dstn_port","eqp_ip","attack_nm","src_country_name","prtc"],start_time:0,end_time:0,query:"",mylogs_id:"",sort_by:{},total:0,bfTotal:-1,rowsPerTime:[],rows:0,currPage:1,diff_time:0,sch_start_time:0,sch_end_time:0,sch_time_unit:10*h.timeUnit.min,sch_rows:10,sch_start_index:0,procIdx:0,listData:[],bCancel:!1,bSearched:!1,span_time:0,audit_mode:"START"},k=function(){a=slapp.logsearch.query,b=slapp.logsearch.dnt,c=slapp.logsearch.progressbar,d=slapp.logsearch.dlgViewField,e=slapp.logsearch.mainTimelineChart,f=slapp.logsearch.statsDlg,""!=gLogSearchParam.log_view_fields&&(j.viewFields=gLogSearchParam.log_view_fields.split(",")),o();for(var g in h.pageRowUnit)i.pageRow.append("<option value='"+h.pageRowUnit[g]+"'>"+h.pageRowUnit[g]+"per Page</option>");i.pageRow.val(gLogSearchParam.pageRows),e.init(),f.init(),C(),z(),i.logTable.on("click",".tr-toggler",function(a,b){$(a.target).toggleClass("open").closest("tr").next().toggle()}),i.logTable.on("click","."+h.DOM.classFieldValue,function(b,c){var d=new RegExp(gOverLengthSuffix+"$"),e=parseInt($(this).data("rowIndex")),f=$(this).data("fieldName");b.preventDefault(),a.addKeyword(f,(j.listData[e][f]||"").replace(d,""))}),i.logTable.on("click",".btn-loglist-toggle",function(a,b){$(this).hasClass("active")?($(this).removeClass("active"),$(this).parents("tr").find(".log-lists").addClass("list-inline")):($(this).addClass("active"),$(this).parents("tr").find(".log-lists").removeClass("list-inline"))}),i.logTable.on("click","."+h.DOM.classPcap,n),i.logTable.on("click","."+h.DOM.classMore,m),i.pageRow.change(function(a){var b=i.pageRow.val();gLogSearchParam.pageRows=b,gCookieMode&&$.cookie(h.cookies.pageRow,b,{expires:30}),O(1,b)}),i.currPage.keydown(function(a){if(13==a.keyCode){if(/[^\d]/.test(i.currPage.val())||i.currPage.val()>j.totalPage)return void _alert("Invalid Page Number!");setTimeout(function(){O(i.currPage.val(),j.rows)},1)}}),$(".btn-next",i.divPaging).on("click",function(){var a=j.currPage+1;O(a,j.rows)}),$(".btn-prev",i.divPaging).on("click",function(){var a=j.currPage-1;O(a,j.rows)}),i.logTable.on("change","#chk_all",function(){var a=this.checked;$("[name=chk_idx]").each(function(b){this.checked=a})}),i.logTable.on("mouseenter","th:gt(1):lt(-1)",function(){$(this).append("<span class='icon-file icon-stats' style='top:5px; right:0px; position:absolute; padding:1px;border:1px hidden #ddd;' title='Quick Statistics analysis'>")}).on("mouseleave","th:gt(1):lt(-1)",function(){$(this).find("span.icon-stats").remove()}).on("mouseover","th>span.icon-stats",function(){$(this).css("border-style","outset")}).on("mouseout","th>span.icon-stats",function(){$(this).css("border-style","hidden")}).on("click","th>span.icon-stats",function(){if(!j.bSearched||j.bCancel)return void _alert("검색 완료 후 실행하세요.");if(j.total>gSearchLimitCount)return void _alert("전체 건수 : "+_SL.formatNumber(j.total)+"건\n"+_SL.formatNumber(gSearchLimitCount)+"건 이상은 조회 하실수 없습니다.");var a=$(this).closest("th").data("field_index"),b=j.viewFields[a],c={start_time:j.start_time,end_time:j.end_time,query:j.query,group_field:[b],group_field_txt:[gFieldCaptions[b]],top_cnt:20,stats_func:"count",func_field:"",funcFieldNm:""};if("eqp_dt"==b){var d=j.diff_time/36e5;d>=720?c.period_min=24*h.schTimeUnit.hour:d<2?c.period_min=1:d<12?c.period_min=5:d<24?c.period_min=10:d<72?c.period_min=30:c.period_min=Math.floor(j.diff_time/(3*h.timeUnit.day))*h.schTimeUnit.hour,new ModalPopup(h.URL.timelineStats+"?"+$.param(c,!0),{width:1e3,height:350,draggable:!0})}else new ModalPopup(h.URL.groupStats+"?"+$.param(c,!0),{width:800,height:760,setScroll:!0})}),i.logTable.on("click",".view-field-setter",function(){d.open(j.viewFields)}),setTimeout(function(){i.logTable.colResizable({liveDrag:!0,minWidth:30,marginLeft:"3px",postbackSafe:!gIsMyLogsMode,isLocalStorage:!0})},300);var k=setInterval(function(){i.logTable.find("td").size()>0&&($(window).trigger("resize"),clearInterval(k))},500)},l=function(){j.total=0,j.bfTotal=0,j.currPage=1,j.sch_rows=j.rows,j.sch_start_index=0,j.bSearched=!1,j.bCancel=!1,j.rowsPerTime=[],j.listData=[],j.span_time=0,j.audit_mode="START"},m=function(a,b){var c=parseInt($(this).data("rowIndex")),d=$(this).data("fieldName"),e=j.listData[c],f=parseInt(e.eqp_dt.substring(0,12)),g="eqp_dt:["+f+"00 TO "+f+"59] AND (key:"+e.key+")";if(a.preventDefault(),!d)return void console.log("Invalid data-value!! >> 필드 내용보기[rowIndex:%o, fieldName:%o]",c,d);var i={query:g,field_name:d};new ModalPopup(h.URL.fieldView,{type:"post",data:i,width:800,height:470,draggable:!0})},n=function(){var a=$(this).data("fileName"),b=$(this).data("filePath");return"undefined"==b?void _alert("파일경로를 찾을 수 없습니다."):"undefined"==a?void _alert("파일명을 찾을 수 없습니다."):void $("<form>").attr({action:h.URL.pcapDown,method:"POST"}).append($('<input type="hidden" name="filePath">').val(b)).append($('<input type="hidden" name="fileName">').val(a)).appendTo("body").submit().remove()},o=function(){var a,b,c;j.field_idx_at_TH=1,c=$("<tr></tr>"),c.append("<th width='30'><input type='checkbox' name='chk_all' id='chk_all' class='form-transform' tabindex='-1'><span class='form-clone' tabindex='0'></span></th>"),j.field_idx_at_TH++,c.append("<th width='35'>번호</th>");for(var d in j.viewFields)a=h.fixedSizeField[j.viewFields[d]],b=gFieldCaptions[j.viewFields[d]],c.append($("<th>").css("width",a?a+"px":"").addClass("slui-droppable").data("field_index",d).append($("<span>").addClass("slui-draggable").data("field_index",d).append(b?b:j.viewFields[d])).append(H(j.viewFields[d])));c.append("<th class='slui-droppable' width='30'><span class='view-field-setter icon-cog-full'></span></th>"),i.logTable.append($("<thead>").append(c)).append($("<tbody>")),I(),c=null},p=function(){var a=i.logTable.children().detach();setTimeout(function(){a.remove(),a=null},1e3)},q=function(){var a=$("tbody",i.logTable).detach();i.logTable.append($("<tbody>")),setTimeout(function(){a.remove(),a=null},1e3)},r=function(){t(!0)},s=function(){j.bCancel=!0,B()},t=function(d){j.procIdx++,d&&F();var f=j.sort_by.bAsc,g=!1;if(j.start_time=b.getSelectedTime("from"),j.end_time=b.getSelectedTime("to"),j.query=a.getQuery(),j.rows=parseInt(i.pageRow.val())||20,j.mylogs_id=gLogSearchParam.mylogs_id,j.action=gLogSearchParam.action,""==j.mylogs_id&&0==j.bCancel&&0==j.bSearched&&j.procIdx>1&&(j.audit_mode="STOP",K()),i.divPaging.hide(),g&&(j.start_time=gAllPeriodStartTime,j.end_time=parseInt(gAllPeriodStartTime)+1+""),j.sch_time_unit=j.diff_time=_SL.formatDate.diff(j.start_time,j.end_time),j.sch_start_time=j.start_time,j.sch_end_time=j.end_time,""==j.mylogs_id&&!g){var k=f?_SL.formatDate.addHour(j.start_time.substring(0,10)+"00"):j.end_time.substring(0,10)+"00";switch(gSearchTimeType){case"AUTO":j.diff_time>=h.timeUnit.month?j.sch_time_unit=12*h.schTimeUnit.hour:j.sch_time_unit=Math.floor(j.diff_time/(3*h.timeUnit.day)+1)*h.schTimeUnit.hour;break;case"DAY":k=f?_SL.formatDate.addDay(j.start_time.substring(0,8)+"0000"):k.substring(0,8)+"0000",j.sch_time_unit=h.timeUnit.day/h.timeUnit.min;break;case"HOUR":j.sch_time_unit=h.schTimeUnit.hour;break;default:return void _alert("잘못된 검색 방법입니다.")}f?(k==j.start_time&&(k=_SL.formatDate.addMin(j.start_time,j.sch_time_unit)),j.sch_end_time=Math.min(k,j.end_time)+""):(k==j.end_time&&(k=_SL.formatDate.addMin(j.end_time,-j.sch_time_unit)),j.sch_start_time=Math.max(k,j.start_time)+"")}c.show(),l(),L(),q(),""==j.mylogs_id&&(j.audit_mode="START",K(),e.show(!1)),u()},u=function(){$("body").requestData(h.URL.list,{proc_idx:j.procIdx,start_time:j.sch_start_time,end_time:j.sch_end_time,query:j.query,pageRow:j.sch_rows,startIndex:j.sch_start_index,mylogs_id:j.mylogs_id,sort_by_field_name:j.sort_by.field_name,sort_by_order:j.sort_by.order,action:j.action},{callback:v})},v=function(a,b,d){var e=j.sort_by.bAsc;if(j.procIdx==a.proc_idx&&!j.bCancel){var f,g,i,k,l;if(e?(f="sch_start_time",g="sch_end_time",i="start_time",k="end_time",l=1):(f="sch_end_time",g="sch_start_time",i="end_time",k="start_time",l=-1),c.show(_SL.formatDate.diff(j[i],j[g])*l*100/j.diff_time),null!=a.rsList&&(j.listData=j.listData.concat(a.rsList),w(a.rsList)),a.span_time&&(j.span_time+=a.span_time),j.bSearched){var m;for(m=0;m<j.rowsPerTime.length;m++)if(j.rowsPerTime[m].sch_start_time==j.sch_start_time){j.rowsPerTime[m].rows!=a.total&&(j.total+=a.total-j.rowsPerTime[m].rows,j.rowsPerTime[m].rows=a.total);break}if(j.rows>j.listData.length)for(m++;m<j.rowsPerTime.length;m++)if(j.rowsPerTime[m].rows>0)return j.sch_start_time=j.rowsPerTime[m].sch_start_time,j.sch_end_time=j.rowsPerTime[m].sch_end_time,j.sch_start_index=0,j.sch_rows=j.rows-j.listData.length,void setTimeout(u,10);B()}else if(j.rowsPerTime.push({sch_start_time:j.sch_start_time,sch_end_time:j.sch_end_time,rows:a.total}),j.total+=a.total,L(),j[g]==j[k])B();else{if(j[f]=j[g],j[g]=_SL.formatDate.addMin(j[g],l*j.sch_time_unit),(j[g]-j[k])*l>=0){j[g]=j[k];var n=j[g].substring(10)+"00";j[g]!=n&&"00"==j[f].substring(10)&&_SL.formatDate.diff(n,j[f])>h.timeUnit.hour&&(j[g]=_SL.formatDate.addMin(j[g].substring(0,10)+"00",h.schTimeUnit.hour))}j.total>=j.rows?j.sch_rows=0:j.sch_rows=j.rows-j.total,setTimeout(u,10)}}},w=function(a){var b,c,d,e,f,g,h,k=1,l=(j.currPage-1)*j.rows;new RegExp(gOverLengthSuffix+"$"),new RegExp(gLogNewLineString,"g"),j.viewFields.length;for(var m in a){b=a[m],k=j.rows-j.sch_rows+parseInt(m),f=$("<tr>"),f.append("<td><input type='checkbox' name='chk_idx' value="+k+" class='form-transform' tabindex='-1'><span class='form-clone' tabindex='0'></span></td>"),f.append("<td>"+_SL.formatNumber(l+k+1)+"</td> ");for(var n in j.viewFields)d=j.viewFields[n],g=$("<td>"),f.append(x(g,k,d,b[d],!0));$("<td>").append("<button type=\"button\" class='tr-toggler btn-toggle'></span>").appendTo(f),f.appendTo(i.logTable),f=$("<tr style='display:none'></tr>").append("<td>"),f.append("<td>"),g=$("<td class='align-left' colspan="+j.viewFields.length+">"),g.append($("<div>").addClass("log-lists").addClass("list-inline").append($("<dl>")));for(d in b)$.inArray(d,j.viewFields)==-1&&"original_log"!=d&&x($("dl",g),k,d,b[d],!1);d="original_log",$.inArray(d,j.viewFields)==-1&&b[d]&&x($("dl",g),k,d,b[d],!1),f.append(g).append('<td style="vertical-align:top;"><button type="button" class="btn-loglist-toggle icon-list"></button></td>').appendTo($("tbody",i.logTable))}b=null,c=null,d=null,e=null,f=null,g=null,h=null},x=function(a,b,c,d,e){var f,g,i="context-menu-one",k=new RegExp(gOverLengthSuffix+"$"),l=new RegExp(gLogNewLineString,"g"),m=d||"",n=m,o={},p="",q="";if(!e||"eqp_dt"!=c&&"recv_time"!=c){if(e)h.alignLeftFieldRegExp.test(c)&&a.addClass("align-left"),f=a,g=$("<button>").addClass("btn-link");else{var r=$("<dt />").appendTo(a);$("<span >").addClass("field-name slui-draggable").data("field_name",c).text(gFieldCaptions[c]||c).appendTo(r);"original_log"==c&&r.addClass("item-long"),f=$("<dd>").appendTo(a),g=$("<a>")}if(""==m)return a;if("original_log"==c&&(i="context-menu-two",f.addClass("item-long")),k.test(m)&&(p=$("<button>").text("more").addClass(h.DOM.classBasic).addClass(h.DOM.classMore).data("rowIndex",b).data("fieldName",c),m=m.replace(k,"")),"file_name"==c&&j.listData[b].log_type==gPcapFileCode){var s=j.listData[b].upload_path,t=j.listData[b].file_name;q=$("<button>").addClass(h.DOM.classBasic).addClass(h.DOM.classPcap).data("filePath",s).data("fileName",t)}m=m.replace(l," "),n=m,gFldToCodes[c]&&gFldToCodes[c][m]&&(n="["+m+"]"+gFldToCodes[c][m],o={"font-weight":"bold"}),A(f,c),y(f,b,c),f.append(g.text(n).css(o).addClass(h.DOM.classFieldValue+" "+i).data("rowIndex",b).data("fieldName",c)).append(p).append(q)}else a.append(""==m?"":_SL.formatDate(m,"yyyyMMddHHmmss","yyyy-MM-dd HH:mm:ss"));return a},y=function(a,b,c){var d,e;$.inArray(c,h.flagFields)!=-1&&(e=c.match(/^[^_]+_/),d=j.listData[b][e+"country_code"],d&&("PRN"==j.listData[b][e+"country_code"]&&(d="PR-N"),"N/A"==j.listData[b][e+"country_name"]&&(d="N-A"),"PR-N"!=d?a.append("<img src='/resources/images/flag/"+d+".png' alt='"+d+"' width='16' height='11'>"):a.append("<i class='icon-lock'></i>")))},z=function(){gCryptionInfo.auth&&i.logTable.on("click",".icon-lock2",function(a){console.log("click lock");var b=$(a.target),c=b.next();b.hasClass("icon-unlock2")?(b.toggleClass("icon-unlock2"),c.text(c.data("org_text"))):$("body").requestData(h.URL.decrypt,{org_text:c.text()},{callback:function(a,d,e){var f="복호화 처리에 실패하였습니다. 다시 실행해 주세요.";switch(d){case"SUC_COM_0000":b.toggleClass("icon-unlock2"),c.data("org_text",c.text()).text(a),f="";break;case"WRN_LOG_0001":f="암호화 방식이 다르거나 암호화 되지 않아 복호화 할 수 없습니다.";break;case"ERR_AUTH_0001":f="처리할 권한이 없습니다."}f&&_alert(f)}})})},A=function(a,b){$.inArray(b,gCryptionInfo.fields)!=-1&&a.append($("<button>").addClass("icon-lock2"+(gCryptionInfo.auth?" cursor_pointer":"")))},B=function(){j.bSearched=!0,j.totalPage=Math.floor(j.total/j.rows),j.total%j.rows>0&&j.totalPage++,c.hide(),0==j.total&&(q(),$("<tr height='25'></tr>").append("<td class='list-empty' colspan='"+(j.field_idx_at_TH+j.viewFields.length+1)+"'>검색 결과가 없습니다.</td> ").appendTo(i.logTable)),j.total!=j.bfTotal&&(j.bfTotal=j.total,FusionCharts.ready(function(){e.update()})),L(),M(),""==j.mylogs_id&&"START"==j.audit_mode&&(j.audit_mode=j.bCancel?"STOP":"COMP",K()),J()},C=function(){i.logTable.on("click","th>span.slui-draggable",function(a){var b=parseInt($(a.target).data("field_index")),c=j.viewFields[b];a.stopPropagation(),"eqp_dt"==c&&c&&(D(b,c),t(!1))})},D=function(a,b){var c=j.sort_by.field_name,d=j.sort_by.order,e=j.sort_by.bAsc;F(),c==b&&d?e||E("asc"):E("desc"),j.sort_by.order&&(j.sort_by.field_name=b,G(b))},E=function(a){switch(a){case"asc":j.sort_by.order="asc",j.sort_by.bAsc=!0;break;case"desc":j.sort_by.order="desc",j.sort_by.bAsc=!1;break;default:j.sort_by.order="",j.sort_by.bAsc=!1}},F=function(){var a=j.sort_by.field_name;j.sort_by.field_name="",E(""),a&&G(a)},G=function(a){var b=$.inArray(a,j.viewFields);if(b!=-1){var c=$("th:eq("+(j.field_idx_at_TH+b)+")",i.logTable);$(".slui-sort-by",c).remove(),c.append(H(a))}},H=function(a){if("eqp_dt"!=a)return"";var b=$("<span>").addClass("slui-sort-by");return a==j.sort_by.field_name&&j.sort_by.order?b.addClass(j.sort_by.bAsc?"sort-asc":"sort-desc"):b.removeClass("sort-desc").removeClass("sort-asc"),b},I=function(){$("th:gt(1)",i.logTable).droppable({accept:".slui-draggable",scope:"addField",activeClass:"ui-state-hover",hoverClass:"ui-state-active",drop:function(a,b){var c,d=$(this).data("field_index");void 0===d&&(d=j.viewFields.length),c=j.viewFields.slice(0,d).concat(b.helper.data("field_name"),j.viewFields.slice(d)),setTimeout(function(){N(c)},0)}}),$("th .slui-draggable",i.logTable).draggable({opacity:.8,scope:"removeField",helper:function(){return $("<div>").css({padding:"3px",border:"1px solid #67687d","background-color":"#f5f7f9","z-index":"1","whte-space":"nowrap"}).data("field_index",$(this).data("field_index")).append($(this).clone())},start:function(a,b){var c=parseInt(b.helper.data("field_index")),d=i.logTable.find("th:eq("+(j.field_idx_at_TH+c)+")"),e=$("<div style='position:absolute;font-size:64px;width:68px;height:68px;padding-top:4px;border:1px solid #666;text-align:center;'>").addClass("slui-layer-trash icon-trash");i.logTable.parents(".area-log-body").append(e),e.position({my:"center top",of:d,at:"center bottom+1"}),e.droppable({accept:".slui-draggable",scope:"removeField",opacity:.9,activeClass:"",hoverClass:"icon-trash-full text-gray",drop:function(a,b){var c,d=parseInt(b.helper.data("field_index"));c=j.viewFields.slice(0,d).concat(j.viewFields.slice(d+1)),setTimeout(function(){N(c)},0)}})},stop:function(a,b){$(".slui-layer-trash").remove()}})},J=function(){$("tbody .slui-draggable",i.logTable).draggable({scope:"addField",opacity:.7,helper:"clone",start:function(a,b){$(b.helper).data("field_name",$(this).data("field_name"))}})},K=function(){$("body").requestData(h.URL.auditLogSave,{proc_idx:j.procIdx,start_time:j.start_time,end_time:j.end_time,query:j.query,total:j.total,span_time:j.span_time,audit_mode:j.audit_mode})},L=function(){i.divTotal.html('Total <strong class="cnt">'+_SL.formatNumber(j.total)+'</strong> Rows [Elapsed Time <strong class="sec">'+_SL.formatTime(j.span_time/1e3,"</strong> Sec,</strong> Min,</strong> Hour")+"]")},M=function(){0==j.total?i.divPaging.hide():(i.currPage.val(j.currPage),$("span",i.divPaging).html(_SL.formatNumber(j.totalPage)),j.currPage<=1?$(".btn-prev",i.divPaging).prop("disabled",!0):$(".btn-prev",i.divPaging).prop("disabled",!1),j.currPage>=j.totalPage?$(".btn-next",i.divPaging).prop("disabled",!0):$(".btn-next",i.divPaging).prop("disabled",!1),i.divPaging.show())},N=function(a,b){if(JSON.stringify(j.viewFields)!=JSON.stringify(a)){if(i.logTable.colResizable({disable:!0}),j.viewFields=a,j.sch_rows=j.rows,p(),o(),b)for(var c=0;c<j.listData.length;c++)j.listData[c]={};w(j.listData),B(),i.logTable.colResizable({liveDrag:!0,minWidth:30,marginLeft:"3px",postbackSafe:!0,isLocalStorage:!0})}},O=function(a,b){c.show(),a="string"==typeof a?parseInt(a,10):a,b="string"==typeof b?parseInt(b,10):b,a<1&&(a=1),j.currPage=a,j.rows=b;for(var d=(a-1)*j.rows,e=0,f=0,g=0;g<j.rowsPerTime.length;g++){if(f+=j.rowsPerTime[g].rows,d+1<=f){j.sch_end_time=j.rowsPerTime[g].sch_end_time,j.sch_start_time=j.rowsPerTime[g].sch_start_time;break}e+=j.rowsPerTime[g].rows}j.sch_start_index=d-e,j.sch_rows=j.rows,j.listData=new Array,j.span_time=0,j.procIdx++,j.bCancel=!1,q(),u()};return{init:k,search:r,stopSearch:s,movePage:O,changeFieldCaption:N,getStartTime:function(){return j.start_time},getEndTime:function(){return j.end_time},getLog:function(a){return j.listData[a]},getMylogsId:function(){return j.mylogs_id},getFieldValue:function(a,b){var c=j.listData[a];return c?c[b]||"":""},getQuery:function(){return j.query},getRowsPerTime:function(){return j.rowsPerTime},getTotal:function(){return j.total},getViewFields:function(){return j.viewFields},isSearched:function(){return j.bSearched},isCancel:function(){return j.bCancel},isAsc:function(){return j.sort_by.bAsc}}}();